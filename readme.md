# 音频频谱瀑布可视化工具

这是一个将WAV音频文件转换为三维瀑布频谱可视化视频的Python程序。程序生成黑色背景上的白色频谱图案，呈现出音频在50-600Hz范围内的三维瀑布流动效果。输入音频应为WAV格式，输出视频为MP4格式。

## 功能

- 将音频频谱转换为三维瀑布流动效果
- 黑色背景上的白色频谱图案，视觉效果简洁美观
- 支持50-600Hz频率范围限制
- 梯形透视效果，模拟深度感
- 16:9比例输出视频

## 安装依赖

```bash
pip install numpy scipy opencv-python tqdm
```

## 使用方式

在代码中修改为自己的文件名：
```python
create_audio_visualization("input.wav", "output.mp4")
```
运行：
```python
python audio_visualizer.py input.wav output.mp4
```

## 核心参数说明

### 基本参数
| 参数 | 默认值 | 说明 |
|------|--------|------|
| `width` | 1920 | 视频宽度 |
| `height` | 1080 | 视频高度 |
| `target_fps` | 30 | 目标帧率 |
| `freq_min` | 50 | 最小频率(Hz) |
| `freq_max` | 600 | 最大频率(Hz) |

### 视觉效果参数
| 参数 | 默认值 | 说明 | 调节效果 |
|------|--------|------|----------|
| `perspective_start` | 0.2 | 远处透视系数 | ↗ 增加：远处频谱更高<br>↘ 减少：远处更扁平 |
| `perspective_end` | 1.0 | 近处透视系数 | ↗ 增加：近处频谱更高<br>↘ 减少：近处更扁平 |
| `height_scale` | 0.7 | 振幅高度缩放 | ↗ 增加：频谱波动更明显<br>↘ 减少：频谱更平缓 |
| `decay_factor` | 0.95 | 轨迹衰减系数 | ↗ 增加：轨迹更持久<br>↘ 减少：轨迹快速消失 |
| `line_width` | 2 | 频谱线宽度 | ↗ 增加：线条更粗<br>↘ 减少：线条更细 |
| `blur_size` | (5,5) | 高斯模糊核大小 | ↗ 增加：更模糊柔和<br>↘ 减少：更锐利清晰 |

### 音频处理参数
| 参数 | 默认值 | 说明 |
|------|--------|------|
| `n_fft` | 2048 | FFT窗口大小 |
| `fixed_duration` | True | 是否固定视频时长 |